---
title: "Crosstalk"
---

Crosstalk is an add-on to the [htmlwidgets](http://htmlwidgets.org) package. It provides authors of HTML widgets with a set of classes, functions, and conventions for implementing standard cross-widget interactions (currently, linked brushing and filtering) in a standard way.

Here's an example using R Markdown:

<pre class="markdown"><code>---
title: Fiji earthquakes
output: html_document
---

&#96;``{r}
library(crosstalk)
library(leaflet)
library(DT)

# Wrap data frame in SharedData
sd <- SharedData$new(quakes)

# Create a filter input
filter_slider("mag", "Magnitude", sd, column=~mag, step=0.1, width=250)

# Use SharedData like a dataframe with Crosstalk-enabled widgets
leaflet(sd) %>% addTiles() %>% addMarkers()
datatable(sd)
&#96;``</code></pre>

We wrap the data frame `quakes` in a `SharedData` R6 object to signal to widgets and filter inputs that they should link up to other Crosstalk-enabled widgets/inputs that use the same `SharedData` object.

Here are the results:

```{r echo=FALSE, warning=FALSE, message=FALSE}
library(crosstalk)
library(leaflet)
library(DT)

# Wrap data frame in SharedData
sd <- SharedData$new(quakes)

# Create a filter input
filter_slider("mag", "Magnitude", sd, column=~mag, step=0.1, width=250)

# Use SharedData like a dataframe with Crosstalk-enabled widgets
bscols(
  leaflet(sd) %>% addTiles() %>% addMarkers(),
  datatable(sd, extensions="Scroller",
    style="bootstrap", class="compact", width="100%", options=list(
      deferRender = TRUE,
      scrollY = 300,
      scroller = TRUE
    ))
)
```

![](crosstalk.gif)

## Important limitations

There are inherent limitations in the current version of Crosstalk that widget authors and users need to be aware of.

1. **Crosstalk currently only works for linked brushing and filtering of views that show individual data points, not aggregate or summary views** (where "observations" is defined as a single row in a data frame). For example, histograms are not supported since each bar represents multiple data points; but scatter plot points each represent a single data point, so they are supported.
2. Because all data must be loaded into the browser, **Crosstalk is not appropriate for large data sets**. (There's no hard limit, since HTML widgets require varying amounts of CPU cycles and memory for each data point.)
